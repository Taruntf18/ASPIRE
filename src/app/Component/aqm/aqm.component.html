<div class="aqm-background">
  <div class="aqm-container">
    <header class="header">
      <h1>AQM AMENDMENT</h1>
      <p>APEX QUALITY MANUAL</p>
    </header>

    <form [formGroup]="aqmForm" (ngSubmit)="onSubmit()" class="aqm-form">

      <!-- From/To Section -->
      <div class="form-section from-to-section">
        <div class="from-to-container">
          <div class="from-group">
            <h2>From</h2>
            <div class="sender-info">
              <p>MR Office</p>
            </div>
          </div>

          <div class="to-group">
            <h2>To</h2>
            <div class="recipient-info">
              <p>Director</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Combined Issue and Revision Number Section -->
      <div class="form-section combined-numbers">
        <div class="number-input-group">
          <div class="form-group compact">
            <h2>1. Issue Number</h2>
            <input type="number" id="issueNumber" formControlName="issueNo" placeholder="Enter Issue Number"
              class="compact-input" />
          </div>

          <div class="form-group compact">
            <h2> Issue Date</h2>
            <input type="date" id="revisionNumber" formControlName="issueDate" placeholder="Enter Revision Number"
              class="compact-input" />
          </div>
        </div>
      </div>

      <div class="form-section combined-numbers">
        <div class="number-input-group">
          <div class="form-group compact">
            <h2>2. Revision Number</h2>
            <input type="number" id="issueNumber" formControlName="revisionNo" placeholder="Enter Issue Number"
              class="compact-input" />
          </div>

          <div class="form-group compact">
            <h2>Revision Date</h2>
            <input type="date" id="revisionNumber" formControlName="revisionDate" placeholder="Enter Revision Number"
              class="compact-input" />
          </div>
        </div>
      </div>




      <!-- Existing Details Section with Upload Button -->
      <div class="form-section">
        <h2>3. Existing Details</h2>
        <div class="form-group">
          <label for="existingDetails">Existing Details (if too big, please attach appropriate Document)</label>
          <textarea id="existingDetails" formControlName="existingDetails"
            placeholder="Enter your Existing Details " maxlength="500" rows="6"></textarea>

          <!-- Error messages... -->

          <!-- Upload Document Button for Existing Details -->
          <div class="file-upload-group">
            <input type="file" id="existingDetailsDoc" (change)="onFileChange($event, 'existingDetailsDoc')"
              accept=".pdf" hidden />
            <label for="existingDetailsDoc" class="file-upload-btn">Upload Supporting Document</label>
            <span class="file-name">
              {{ existingDetailsDocFile?.name || "No file selected" }}
            </span>
            <span *ngIf="existingDetailsDocFile" class="file-size">
              {{ getFileSize(existingDetailsDocFile.size) }}
            </span>
            <button *ngIf="existingDetailsDocFile" type="button" (click)="removeFile('existingDetailsDoc')"
              class="remove-btn">
              Remove
            </button>
          </div>
        </div>
      </div>

      <!-- Changes Suggested Section with Upload Button -->
      <div class="form-section">
        <h2>4. Changes Suggested</h2>
        <div class="form-group">
          <label for="changesSuggested">Changes Suggested (if too big, please attach appropriate Document)</label>
          <textarea id="changesSuggested" formControlName="changesSuggested" placeholder="Enter your Changes Suggested"
            maxlength="500" rows="6"></textarea>

          <!-- Error messages... -->

          <!-- Upload Document Button for Changes Suggested -->
          <div class="file-upload-group">
            <input type="file" id="changesSuggestedDoc" (change)="onFileChange($event, 'changesSuggestedDoc')"
              accept=".pdf" hidden />
            <label for="changesSuggestedDoc" class="file-upload-btn">Upload Supporting Document</label>
            <span class="file-name">
              {{ changesSuggestedDocFile?.name || "No file selected" }}
            </span>
            <span *ngIf="changesSuggestedDocFile" class="file-size">
              {{ getFileSize(changesSuggestedDocFile.size) }}
            </span>
            <button *ngIf="changesSuggestedDocFile" type="button" (click)="removeFile('changesSuggestedDoc')"
              class="remove-btn">
              Remove
            </button>
          </div>
        </div>
      </div>


      <!-- AQM Document -->
      <div class="form-section">
        <h2>5. Upload Unsigned AQM Document</h2>
        <div class="file-upload-group">
          <label>Upload Unsigned AQM Document (pdf formate only)</label>
          <input type="file" id="aqmDocument" (change)="onFileChange($event, 'aqmDocument')" accept=".pdf"
            hidden required />
          <label for="aqmDocument" class="file-upload-btn"> Choose File </label>
          <span class="file-name">{{
            aqmDocumentFile?.name || "No file selected"
            }}</span>
          <span *ngIf="aqmDocumentFile" class="file-size">
            {{ getFileSize(aqmDocumentFile.size) }}
          </span>
          <button *ngIf="aqmDocumentFile" type="button" (click)="removeFile('aqmDocument')" class="remove-btn">
            Remove
          </button>
          <div *ngIf="aqmForm.get('aqmDocument')?.invalid && aqmForm.get('aqmDocument')?.touched" class="error-message">
            Unsigned AQM document is required
          </div>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button type="submit" [disabled]="!aqmForm.valid"  class="submit-btn">
          Submit AQM Data
        </button>
        <button type="button" (click)="resetForm()" class="reset-btn">
          Reset Form
        </button>
      </div>
    </form>
  </div>
</div>