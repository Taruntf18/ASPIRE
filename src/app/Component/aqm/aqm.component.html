<div class="aqm-background">
  <div class="aqm-container">
    <header class="header">
      <h1>AQM</h1>
      <p>APEX QUALITY MANUAL</p>
    </header>

    <form [formGroup]="aqmForm" (ngSubmit)="onSubmit()" class="aqm-form">

      <!-- Combined Issue and Revision Number Section -->
      <div class="form-section combined-numbers">
        <div class="number-input-group">
          <div class="form-group compact">
            <h2>1. Issue Number</h2>
            <input type="text" id="issueNumber" formControlName="issueNumber" placeholder="Enter Issue Number"
              class="compact-input" />
          </div>

          <div class="form-group compact">
            <h2>2. Revision Number</h2>
            <input type="text" id="revisionNumber" formControlName="revisionNumber" placeholder="Enter Revision Number"
              class="compact-input" />
          </div>
        </div>
      </div>

      <div class="form-section combined-numbers">
        <div class="number-input-group">
          <div class="form-group compact">
            <h2>1. Issue Date</h2>
            <input type="text" id="issueNumber" formControlName="issueNumber" placeholder="Enter Issue Number"
              class="compact-input" />
          </div>

          <div class="form-group compact">
            <h2>2. Revision Date</h2>
            <input type="text" id="revisionNumber" formControlName="revisionNumber" placeholder="Enter Revision Number"
              class="compact-input" />
          </div>
        </div>
      </div>

      


      <!-- Quality Policy -->
      <div class="form-section">
        <h2>3. Quality Policy</h2>
        <div class="form-group">
          <label for="qualityPolicy">Organization's Quality Policy</label>
          <textarea id="qualityPolicy" formControlName="qualityPolicy"
            placeholder="Enter your quality policy statement..." maxlength="500" rows="6"></textarea>

          <!-- Required error -->
          <div *ngIf="aqmForm.get('qualityPolicy')?.errors?.['required'] && aqmForm.get('qualityPolicy')?.touched"
            class="error-message">
            Quality policy is required.
          </div>

          <!-- MinLength error -->
          <div *ngIf="aqmForm.get('qualityPolicy')?.errors?.['minlength'] && aqmForm.get('qualityPolicy')?.touched"
            class="error-message">
            Minimum 50 characters required.
          </div>

          <!-- MaxLength error -->
          <div *ngIf="aqmForm.get('qualityPolicy')?.errors?.['maxlength'] && aqmForm.get('qualityPolicy')?.touched"
            class="error-message">
            Maximum 500 characters allowed.
          </div>
        </div>
      </div>


      


     

     

      <!-- Organization Chart -->
      <div class="form-section">
        <h2>6. Organization Chart</h2>
        <div class="file-upload-group">
          <label>Upload Organization Chart (Image)</label>
          <input type="file" id="orgChart" (change)="onFileChange($event, 'orgChart')" accept="image/*" hidden
            required />
          <label for="orgChart" class="file-upload-btn"> Choose File </label>
          <span class="file-name">{{
            orgChartFile?.name || "No file selected"
            }}</span>
          <button *ngIf="orgChartFile" type="button" (click)="removeFile('orgChart')" class="remove-btn">
            Remove
          </button>
          <div *ngIf="orgChartPreview" class="image-preview">
            <img [src]="orgChartPreview" alt="Organization chart preview" />
          </div>
          <div *ngIf="aqmForm.get('orgChart')?.invalid && aqmForm.get('orgChart')?.touched" class="error-message">
            Organization chart is required
          </div>
        </div>
      </div>

      <!-- AQM Document -->
      <div class="form-section">
        <h2>7. Upload AQM Document</h2>
        <div class="file-upload-group">
          <label>Upload AQM Document (pdf formate only )</label>
          <input type="file" id="aqmDocument" (change)="onFileChange($event, 'aqmDocument')" accept=".pdf,.doc,.docx"
            hidden required />
          <label for="aqmDocument" class="file-upload-btn"> Choose File </label>
          <span class="file-name">{{
            aqmDocumentFile?.name || "No file selected"
            }}</span>
          <span *ngIf="aqmDocumentFile" class="file-size">
            {{ getFileSize(aqmDocumentFile.size) }}
          </span>
          <button *ngIf="aqmDocumentFile" type="button" (click)="removeFile('aqmDocument')" class="remove-btn">
            Remove
          </button>
          <div *ngIf="aqmForm.get('aqmDocument')?.invalid && aqmForm.get('aqmDocument')?.touched" class="error-message">
            AQM document is required
          </div>
        </div>
      </div>

      <!-- Form Actions -->
      <div class="form-actions">
        <button type="submit" [disabled]="aqmForm.invalid" class="submit-btn">
          Submit AQM Data
        </button>
        <button type="button" (click)="resetForm()" class="reset-btn">
          Reset Form
        </button>
      </div>
    </form>
  </div>
</div>